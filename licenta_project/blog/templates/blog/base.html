{%load static%}

<!DOCTYPE html>

<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" type="text/css" href="{%static 'blog/main.css'%}">

    {% if title%}
    <title> Plant Garden - {{title}}</title>
    {%else%}
    <title> Plant Garden - AI Flower Classifier</title>
    {%endif%}

    <style>
      /* Enhanced base template styles */
      .navbar-brand-enhanced {
        font-size: 1.6rem !important;
        font-weight: 300 !important;
        color: white !important;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
      }
      
      .navbar-brand-enhanced:hover {
        color: rgba(255,255,255,0.9) !important;
        transform: scale(1.05);
      }
      
      .navbar-toggler {
        border: 2px solid rgba(255,255,255,0.3) !important;
        border-radius: 8px !important;
      }
      
      .navbar-toggler:focus {
        box-shadow: 0 0 0 3px rgba(255,255,255,0.2) !important;
      }
      
      .main-container {
        background: rgba(255,255,255,0.8);
        border-radius: 20px;
        margin-top: 2rem;
        margin-bottom: 2rem;
        padding: 2rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.1);
      }
      
      .sidebar-enhanced {
        background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(248,255,248,0.95));
        padding: 2rem 1.5rem;
        border: none;
        border-radius: 20px;
        margin-bottom: 25px;
        box-shadow: 0 10px 30px rgba(76, 175, 80, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(76, 175, 80, 0.1);
        position: relative;
        overflow: hidden;
      }
      
      .sidebar-enhanced::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #4CAF50, #45a049, #66BB6A);
        border-radius: 20px 20px 0 0;
      }
      
      .sidebar-title {
        color: #4CAF50;
        font-weight: 300;
        margin-bottom: 1.5rem;
        font-size: 1.4rem;
        text-align: center;
      }
      
      .sidebar-description {
        color: #666;
        font-size: 0.95rem;
        text-align: center;
        margin-bottom: 1.5rem;
        line-height: 1.6;
      }
      
      .plant-list {
        background: rgba(255,255,255,0.7);
        border-radius: 15px;
        padding: 1rem;
        border: 1px solid rgba(76, 175, 80, 0.1);
      }
      
      .plant-list-item {
        border: none !important;
        border-radius: 10px !important;
        margin-bottom: 8px;
        padding: 12px 15px !important;
        transition: all 0.3s ease;
        border-left: 3px solid transparent !important;
        background: rgba(255,255,255,0.8) !important;
        cursor: pointer;
      }
      
      .plant-list-item:hover {
        background: rgba(76, 175, 80, 0.1) !important;
        border-left-color: #4CAF50 !important;
        transform: translateX(5px);
        box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
      }
      
      .plant-list-item:last-child {
        margin-bottom: 0;
      }
      
      .nav-icons {
        margin-right: 8px;
        font-size: 1.1rem;
      }
      
      @keyframes float-and-rotate {
        0%, 100% { 
          transform: translateY(0px) rotate(0deg); 
          opacity: 0.1; 
        }
        25% { 
          transform: translateY(-20px) rotate(90deg); 
          opacity: 0.2; 
        }
        50% { 
          transform: translateY(-10px) rotate(180deg); 
          opacity: 0.15; 
        }
        75% { 
          transform: translateY(-30px) rotate(270deg); 
          opacity: 0.1; 
        }
      }
      
      .content-wrapper {
        min-height: calc(100vh - 200px);
      }
      
      @media (max-width: 768px) {
        .main-container {
          margin: 1rem;
          padding: 1rem;
        }
        
        .sidebar-enhanced {
          padding: 1.5rem 1rem;
        }
        
        .floating-leaf {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <nav class="navbar navbar-expand-md navbar-dark bg-steel fixed-top">
        <div class="container">
          <a class="navbar-brand navbar-brand-enhanced mr-4" href="{%url 'blog-home'%}">
            Plant Garden
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarToggle"
            aria-controls="navbarToggle"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarToggle">
            <div class="navbar-nav mr-auto">
              <a class="nav-item nav-link" href="{%url 'blog-classifier'%}">
                <span class="nav-icons"></span>Home
              </a>
              <a class="nav-item nav-link" href="{%url 'blog-home'%}">
                <span class="nav-icons"></span>Blog
              </a>
              <a class="nav-item nav-link" href="{%url 'activity-feed'%}">
                <span class="nav-icons"></span>Activity
              </a>
              <a class="nav-item nav-link" href="{%url 'blog-about'%}">
                <span class="nav-icons"></span>About
              </a>
            </div>
            <!-- Navbar Right Side -->
            <div class="navbar-nav">
                {%if user.is_authenticated%}
                    <a class="nav-item nav-link" href="{%url 'user-garden' user.username%}">
                      <span class="nav-icons"></span>My Garden
                    </a>
                    <a class="nav-item nav-link" href="{%url 'virtual-garden'%}">
                      <span class="nav-icons"></span>Flowers
                    </a>
                    <a class="nav-item nav-link" href="{%url 'post-create'%}">
                      <span class="nav-icons"></span>New Post
                    </a>
                    <a class="nav-item nav-link" href="{%url 'profile'%}">
                      <span class="nav-icons"></span>Profile
                    </a>
                    <a class="nav-item nav-link" href="{%url 'logout'%}">
                      <span class="nav-icons"></span>Logout
                    </a> 
                {%else%}
                    <a class="nav-item nav-link" href="{%url 'login'%}">
                      <span class="nav-icons"></span>Login
                    </a>
                    <a class="nav-item nav-link" href="{%url 'register'%}">
                      <span class="nav-icons"></span>Register
                    </a>
                {%endif%}
            </div>
          </div>
        </div>
      </nav>
    </header>
    
    <main role="main" class="container">
      <div class="main-container">
        <div class="row content-wrapper">
          <div class="col-md-8">
            {%if messages %}
                {%for message in messages%}
                    <div class="alert alert-{{message.tags}}">
                        <strong>
                          {% if message.tags == 'success' %}
                          {% elif message.tags == 'info' %}
                          {% elif message.tags == 'warning' %}  
                          {% elif message.tags == 'error' %}
                          {% endif %}
                        </strong>
                        {{message}}
                    </div>
                {%endfor%}
            {%endif%}
            {% block content %}{% endblock %}
          </div>
          <div class="col-md-4">
            <div class="sidebar-enhanced">
              <h3 class="sidebar-title"> Garden Hub</h3>
              <p class="sidebar-description">
                Explore the wonderful world of plants and flowers through our AI-powered classification system.
              </p>
              <div class="plant-list">
                <ul class="list-group">
                  <li class="list-group-item plant-list-item">
                    <span class="nav-icons"></span>Latest Classifications
                  </li>
                  <li class="list-group-item plant-list-item">
                    <span class="nav-icons"></span>Plant News
                  </li>
                  <li class="list-group-item plant-list-item">
                    <span class="nav-icons"></span>Seasonal Guide
                  </li>
                  <li class="list-group-item plant-list-item">
                    <span class="nav-icons"></span>Top Contributors
                  </li>
                  <li class="list-group-item plant-list-item">
                    <span class="nav-icons"></span>Plant Care Tips
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
  integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
  integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
  crossorigin="anonymous"
></script>
  </body>
</html>